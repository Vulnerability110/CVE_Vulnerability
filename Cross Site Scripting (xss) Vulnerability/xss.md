#####  **XSS漏洞**

| 问题描述 | 可以插入恶意的Script代码                                     |
| -------- | ------------------------------------------------------------ |
| 潜在影响 | 当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的 |
| 所在文件 | BookDaoImpl                                                  |
| 所在行数 | 24；25                                                       |
| 修复建议 | 输入限制，配置过滤器                                         |
| 脆弱代码 | 如下                                                         |

```Plaintext
    @RequestMapping(value = "positionedit" ,method = RequestMethod.GET)
    public String positioneditget(@RequestParam(value = "positionid",required=false) Long positionid,Model model){
        if(positionid!=null){       
            Position position = pdao.findOne(positionid);
            System.out.println(position);
            Dept dept = ddao.findOne(position.getDeptid());
            model.addAttribute("positiondept",dept);
            model.addAttribute("position",position);
        }
        List<Dept> depts = (List<Dept>) ddao.findAll();
        model.addAttribute("depts", depts);
        return "user/positionedit";
    }
```

![img](xss.assets/16665954024731-16666002614911.png)

![img](xss.assets/16665954064354-16666002643633.png)